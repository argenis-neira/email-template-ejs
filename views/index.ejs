<!DOCTYPE html>
<html lang="en">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<head>
   <meta charset="UTF-8">
   <title></title>

   <style>
   </style>
</head>

<body>

<header>
   <div>
        <p>
            <% 
            var today = new Date()
            var month = today.getMonth();
            %>
            <%= month %>
        </p>
        
        <h1>Greetings</h1>
        <h2><%= name %></h2>
        <h3>This is your performance! Keep it up!</h3>
        <p>
        <% for (let i = 0; i < month; i++) { %>
            <br>
                <%= months[i]+": "%>
                <%= data[i]+"%"%>
            </br>
        <% } %>
        </p>

        <div>
            
            <canvas id="myChart" style="width:100%;max-width:600px"></canvas>

            <script>  

                var xValues = '<%-months%>'.split(",");
                var yValues = '<%-data%>'.split(",");
                
                new Chart("myChart", {
                  type: "bar",
                  data: {
                    labels: xValues,
                    datasets: [{
                      backgroundColor: "crimson",
                      data: yValues
                    }]
                  },
                  options: {
                    legend: {display: false},
                    title: {
                      display: true,
                      text: "Persistency by month"
                    },
                    subtitle: { display: true, text: "fdsf"}
                  }
                });
            </script>

        </div>
   </div>
</header>

</body>

</html>